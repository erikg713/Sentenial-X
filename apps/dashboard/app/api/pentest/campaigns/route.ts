import { NextResponse } from 'next/server';

export async function GET() {
  const data = [
    {
      id: '001',
      title: 'Web App Recon + SQLi Test',
      status: 'completed',
      createdAt: new Date(Date.now() - 1000 * 60 * 60).toISOString(),
    },
    {
      id: '002',
      title: 'Privilege Escalation on Internal Box',
      status: 'running',
      createdAt: new Date(Date.now() - 1000 * 60 * 30).toISOString(),
    }
  ];

  return NextResponse.json(data);
}

export async function POST(req: Request) {
  const body = await req.json();

  const newCampaign = {
    id: `${Math.floor(Math.random() * 10000)}`,
    title: body.title,
    template: body.template,
    status: 'running',
    createdAt: new Date().toISOString(),
  };

  return NextResponse.json({ id: newCampaign.id });
}
