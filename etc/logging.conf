# etc/logging.conf

[loggers]
keys=root,sentenial_core,SentenialX.Env

[handlers]
keys=console,file_handler,smtp_handler

[formatters]
keys=standard

# --- FORMATTERS ---

[formatter_standard]
# Detailed format
format=%(asctime)s [%(levelname)s] [%(name)s] %(filename)s:%(lineno)d - %(message)s
datefmt=%Y-%m-%d %H:%M:%S

# --- HANDLERS ---
# Console Handler
[handler_console]
class=StreamHandler
formatter=standard
args=(sys.stdout,)

# File Handler (Matching LOG_PATH=analytics/memory_scan_logs/emulation.log)
[handler_file_handler]
class=logging.handlers.RotatingFileHandler
formatter=standard
# Max size 10MB, 5 backup files
args=('/app/analytics/memory_scan_logs/emulation.log', 'a', 10485760, 5) 
level=DEBUG

# SMTP Handler (Matching SMTP environment variables)
[handler_smtp_handler]
class=logging.handlers.SMTPHandler
formatter=standard
# Note: Host/Port/Credentials are hardcoded here but should use ENV vars via Python logic
args=('smtp.mailtrap.io:2525', 'server@sentenialx.com', ['admin@sentenialx.com'], 'SentenialX Error Alert', ('username', 'password'))
level=ERROR 

# --- LOGGERS ---

[logger_root]
level=WARNING
handlers=console

[logger_sentenial_core]
# Main application logger
level=DEBUG
handlers=console,file_handler,smtp_handler
qualname=sentenial_core
propagate=0

[logger_SentenialX.Env]
# Specific logger for the cyber simulation environment
level=INFO
handlers=console,file_handler
qualname=SentenialX.Env
propagate=0
