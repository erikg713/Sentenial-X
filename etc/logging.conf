# etc/logging.conf

[loggers]
# Defines three loggers: root (catch-all), the core app, and the environment module
keys=root,sentenial_core,SentenialX.Env

[handlers]
# Defines handlers for console, file rotation, and SMTP email alerts
keys=console,file_handler,smtp_handler

[formatters]
keys=standard

# --- FORMATTERS ---

[formatter_standard]
# Detailed format for all outputs
format=%(asctime)s [%(levelname)s] [%(name)s] %(filename)s:%(lineno)d - %(message)s
datefmt=%Y-%m-%d %H:%M:%S

# --- HANDLERS ---
# Console Handler
[handler_console]
class=StreamHandler
formatter=standard
args=(sys.stdout,)

# File Handler (Matching LOG_PATH)
[handler_file_handler]
class=logging.handlers.RotatingFileHandler
formatter=standard
# Use ENV variables for file args (assuming /app is the container WORKDIR)
args=('/app/analytics/memory_scan_logs/emulation.log', 'a', 10485760, 5) 
level=DEBUG

# SMTP Handler (For Critical Alerts)
[handler_smtp_handler]
class=logging.handlers.SMTPHandler
formatter=standard
# Arguments taken from ENV variables in the Python application logic, here hardcoded for example
args=('smtp.mailtrap.io:2525', 'alerts@sentenialx.com', ['admin@sentenialx.com'], 'Sentenial-X CRITICAL ERROR', ('username_replace', 'password_replace'))
level=ERROR 

# --- LOGGERS ---

[logger_root]
level=WARNING
handlers=console

[logger_sentenial_core]
# Main application logger
level=DEBUG
handlers=console,file_handler,smtp_handler
qualname=sentenial_core
propagate=0

[logger_SentenialX.Env]
# Logger for the simulation environment
level=INFO
handlers=console,file_handler
qualname=SentenialX.Env
propagate=0
